---
title: "バージョン管理"
date: "2021-07-31"
updateDate: ""
category: ""
tags: "dev-env"
description: "バージョン管理の本質を理解して最適な開発環境を実現することが目的"
emoji: "🙂"
topImage: ""
---

# 今回の目的

<br />{" "}

- バージョン管理の本質を理解することが目的

<br />{" "}

# バージョンとは

<br />{" "}

- そのものがもつ現在の状態

<br />{" "}

# バージョン管理システム

<br />{" "}

- バージョン管理とは

<br />{" "}

- プロジェクトの中で更新されていく様々な成果物の変更の履歴を成果物そのものも含めて記録すること

<br />{" "}

- 変更（状態）を記録するシステムで、後で特定の記録（状態）を呼び出せるもの　状態遷移記録かつ呼び出し

<br />{" "}

- これらの管理を自動化したツールの代表的なものとしては、Git、Subversion、CVS などである。一般的にバージョン管理はこれらのツールを使って行われる。

<br />{" "}

- なぜバージョン管理が誕生したのか

<br />{" "}

- システム・プロジェクトの状態を簡単に管理するため

<br />{" "}

# バージョン管理ツールのイメージ　 Git で具体例

<br />{" "}

# ローカル型バージョン管理

![local-version](./local.jpg)

- ローカル環境のサーバー（クライアントのローカル・データベース）でバージョン管理を行う

<br />{" "}

- なぜ
  - 記録（セーブ）しなければ、常にはじめから実行しなければならないため

<br />{" "}

- 方法
  - ローカルのデータベースへ任意のファイルについて、それが過去の任意の時点でどういうものだったかということを、パッチ（差分）を重ね上げていくことで再現

<br />{" "}

- メリット
  - ローカルで管理するので、管理範囲が狭く、管理しやすい

<br />{" "}

- デメリット
  - 他のシステムを扱う開発者との共同作業がやりにくい
  - ひとつの場所にプロジェクトの全体の履歴を持っているので、すべてを失うリスクがある

<br />{" "}

# 集中型バージョン管理

![concentration-version](./concentration.jpg)

- リモート環境の中央サーバーでバージョン管理を行う

<br />{" "}

- なぜ
  - 他のシステムを扱う開発者との共同作業をするため

<br />{" "}

- 方法
  - リモートの中央サーバー上で、それぞれのクライアントがパッチ（差分）を重ねあげていくことで再現

<br />{" "}

- メリット
  - リモートの中央サーバーの管理者はそれぞれのクライアントが何をできるのかについて細かくコントロールできるため、
    すべてのクライアントのローカル・データベースを取り扱うよりずっと簡単

<br />{" "}

- デメリット
  - リモートの中央サーバーが停止した場合、共同作業も全くできす、作業中のものにバージョンを付けて記録することができなくなる
  - もし中央データベースのハードディスクが破損し、適切なバックアップが保持されていなければ完全にすべてを失う
  - 残るは、ローカルマシンにたまたまあった幾らかの単一スナップショット（ある時点のファイル、ディレクトリの編集対象の状態）くらい
  - ひとつの場所にプロジェクトの全体の履歴を持っているので、すべてを失うリスクがある

<br />{" "}

# 分散型バージョン管理

![distributed-version](./distributed.jpg)

- リモート環境の中央サーバーからクローンして、ローカルサーバーでバージョン管理を行う

<br />{" "}

- なぜ
  - リモートの中央サーバーへの一極依存を解消し、共同作業と障害への対策を簡単に行えるため

<br />{" "}

- 方法
  - クライアントは最新のスナップショット（ある時点のファイル、ディレクトリの編集対象の状態）をチェックアウト（コピー）するだけでなく
    リポジトリ全体（バージョン管理をする対象のファイル、ディレクトリ、更新履歴などの一群）全体をミラーリングする
  - クローンは全て、実際は全データの完全バックアップ

<br />{" "}

- メリット
  - リモートの中央サーバー  や、あるサーバーが故障してそのサーバーが分散バージョン管理システム  がそのサーバーを介して連携していたとしても
    どれでもいいのでクライアント・リポジトリのひとつを対象のサーバー  にコピーすれば修復できる
  - 異なった方法で異なる人々のグループと同時に同じプロジェクト内で共同作業することができる
  - このため、階層モデルなどの集中システムでは不可能な幾つかのワークフローが構築できるようなっている

<br />{" "}

- デメリット
  - クライアントそれぞれに分散バージョン管理システム基本使用方法の理解が必要

<br />{" "}

# その他バージョン管理するものの例

<br />{" "}

- OS のバージョン管理ツール

  | OS      | TOOL |
  | ------- | ---- |
  | Windows | ---  |
  | Mac     | ---  |
  | Linux   | ---  |

- 言語のバージョン管理ツール

  | langage | TOOL                    |
  | ------- | ----------------------- |
  | Ruby    | rbenv , rbrew           |
  | PHP     | phpenv , phpbrew        |
  | Python  | pyenv                   |
  | Java    | jenv                    |
  | Swift   | swiftenv                |
  | Go      | goenv                   |
  | Node.js | nodebrew , nvm , nodist |

<br />{" "}

# まとめ

<br />{" "}

- バージョン管理とはそのものの状態変化を記録し、タイムスリップしてやり直しまたは新しく創造ができる

<br />{" "}

# 次回改善点

<br />{" "}

- Git での具体例だけでなく、その他のユースケースについても理解し、理解を深める
- イメージ画像を挿入する

<br />{" "}

# 参考サイト

<br />{" "}

- https://git-scm.com/book/ja/v2/%E4%BD%BF%E3%81%84%E5%A7%8B%E3%82%81%E3%82%8B-%E3%83%90%E3%83%BC%E3%82%B8%E3%83%A7%E3%83%B3%E7%AE%A1%E7%90%86%E3%81%AB%E9%96%A2%E3%81%97%E3%81%A6
